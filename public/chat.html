<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Hebi Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/style.css">
</head>
<body class="chat-body">

  <div class="chat-wrapper">
    <div class="chat-layout">

      <!-- C·ªòT TR√ÅI: H·ªí S∆† + (ADMIN TOOLS) -->
      <aside id="adminSidebar" class="sidebar sidebar-left">
        <!-- H·ªì s∆° c√° nh√¢n: d√πng cho c·∫£ user & admin -->
        <div class="profile-panel">
          <div class="profile-header">
            <div id="profileAvatar" class="profile-avatar">H</div>
            <div>
              <div id="profileName" class="profile-name">...</div>
              <div id="profileRole" class="profile-role">user</div>
            </div>
          </div>

          <div class="profile-meta">
            <div class="meta-row">
              <span>M√£ ƒëƒÉng nh·∫≠p</span>
              <span id="profileCode" class="meta-value">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</span>
            </div>
            <div class="meta-row">
              <span>Thi·∫øt b·ªã</span>
              <span class="meta-value">Web</span>
            </div>
          </div>
        </div>

        <!-- Ph·∫ßn d∆∞·ªõi ch·ªâ d√†nh cho admin -->
        <div class="admin-panel only-admin">
          <div class="admin-header">
            <div>
              <div class="admin-title">B·∫£ng ki·ªÉm so√°t th√†nh vi√™n</div>
              <div class="admin-sub">
                Th√™m user m·ªõi, ch·ªçn m√£ random ho·∫∑c t·ª± ƒë·∫∑t m√£.
              </div>
            </div>
            <span class="admin-tag">Admin</span>
          </div>

          <div class="admin-row">
            <input id="adminNewUsername" class="admin-input" placeholder="T√™n th√†nh vi√™n m·ªõi">
          </div>

          <div class="admin-row admin-mode-row">
            <label>
              <input type="radio" name="passMode" value="auto" checked>
              M√£ random 6 s·ªë
            </label>
            <label>
              <input type="radio" name="passMode" value="custom">
              T·ª± nh·∫≠p m√£
            </label>
          </div>

          <div class="admin-row" id="customCodeRow" style="display:none;">
            <input id="adminCustomCode" class="admin-input" placeholder="Nh·∫≠p m√£ cho user (vd: 123456)">
          </div>

          <div class="admin-row">
            <button id="adminCreateBtn" class="admin-btn">Th√™m th√†nh vi√™n</button>
          </div>

          <div id="adminResult" class="admin-result"></div>
        </div>

        <div class="member-panel only-admin">
          <div class="member-header">Danh s√°ch th√†nh vi√™n</div>
          <div id="memberList" class="member-list"></div>
        </div>
      </aside>

      <!-- C·ªòT GI·ªÆA: CHAT CH√çNH -->
      <main class="chat-main">
        <div class="chat-top">
          <div class="chat-top-left">
            <!-- n√∫t m·ªü sidebar tr√°i (profile + admin) ·ªü m√†n nh·ªè -->
            <button id="openAdminBtn" class="icon-btn hide-desktop">
              ‚ò∞
            </button>
            <h2>üí¨ Hebi Chat</h2>
          </div>

          <div class="chat-top-right">
            <span class="badge">whitelist only</span>
            <!-- n√∫t m·ªü sidebar ph·∫£i (online) ·ªü m√†n nh·ªè -->
            <button id="openPresenceBtn" class="icon-btn hide-desktop">
              üë•
            </button>
          </div>
        </div>

        <!-- TABS PH√íNG CHAT -->
        <div class="room-tabs">
          <button class="room-tab active" data-room="p1">Ph√≤ng 1</button>
          <button class="room-tab" data-room="p2">Ph√≤ng 2</button>
          <button class="room-tab" data-room="p3">Ph√≤ng 3</button>
          <button class="room-tab" data-room="dev">Dev</button>
          <button class="room-tab room-tab-admin" data-room="admin">Admin</button>
        </div>

        <div id="userChip" class="user-chip">
          <span class="name">...</span>
          <span class="role">user</span>
        </div>

        <div id="messages" class="messages"></div>

        <div class="chat-input-row">
          <input id="message" class="chat-input" placeholder="Nh·∫≠p tin nh·∫Øn..." />
          <button class="chat-send-btn" onclick="sendMessage()">üì© G·ª≠i</button>
        </div>
      </main>

      <!-- C·ªòT PH·∫¢I: ONLINE / OFFLINE -->
      <aside id="presenceSidebar" class="sidebar sidebar-right">
        <div class="online-panel">
          <div class="online-title">Tr·∫°ng th√°i</div>
          <div class="online-sub">Ai ƒëang online tr√™n Hebi Chat.</div>

          <div class="online-section">
            <div class="online-section-title">ƒêang online</div>
            <div id="onlineList" class="presence-list"></div>
          </div>

          <div class="online-section" id="offlineBlock">
            <div class="online-section-title">Offline (ch·ªâ admin th·∫•y)</div>
            <div id="offlineList" class="presence-list presence-offline"></div>
          </div>
        </div>
      </aside>

    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/chat.js"></script>
</body>
</html>
